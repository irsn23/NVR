# NVR

## 什么是 NVR

NVR 是你推的 VR 主播在播吗的简称。这也是该应用程序的主要功能：双击 NVR.exe，点击最下方按钮，等待一段时间后查看所有现在正在直播的 VR 主播。 

## 参数设置

APP 目前拥有以下两个参数：

- Type: 查询类型（默认为 1.1）
  - 1.1：查询虚拟主播区的主播
  - 1.2：查询电台区的主播
  - 2: 查询虚拟主播区和电台区的主播
  - 3：进入各主播的直播间直接查询，拥有速度慢，不遗漏，没有直播间标题三个特点
- Depth：查询页数（默认为 50）。该变量指示查询的页数（具体含义与 Api 有关），只有在指定查询类型不是 3 时才会使用。该页数存在理论上限值，因此，当指定高于该页数的深度时，也不会进行额外查询。一般来说，指定在理论上限值以下的页数越大，查询耗时越长，该方法错过的虚拟主播越少。

## APP 使用指南
- 指定参数。用户可在第一个下拉框中指定查询类型，默认为 1.1，在第二个输入框内指定查询深度，默认为 50。
- 进行查询。点击最下方的按钮即可开始查询。注意：在点击该按钮后，APP 会无法响应（卡顿）一段时间，具体时长取决于电脑性能、网速、指定的查询深度、查询类型等，但这一般不是 APP 无法工作的标志。
- 查看查询结果
  - 在中间的表中会返回当前的查询结果。最左边一列为序号，最上面一列为表头，分别表示虚拟主播的名称（其 B 站昵称）、直播间标题（如果指定的查询类型不是 3）、UID、直播间 ID 以及直播间的链接。
  - 该表无法修改。用户可通过单击最后一列的直播间链接则可自动使用默认网页打开该链接。
  - 该表内容没有自动换行或者固定大小的设置，所以如果直播间标题显示不全的，可以使用鼠标拖动格边缘以自定义大小。
- 进行第二次查询。查询完成后，按钮字样将变为查询完成，请再次点击以进行下一次查询。每次点击查询按钮时，查询的参数设置都会使用最新指定的参数。注意：如果在点击再次查询后，没有查询到正在直播的 VR 主播，则中间的表不会发生改变。如果不希望这样的行为发生，请重启 APP。

## 更新频率
一般在 VR 存在主播进入或退出时更新。更新一般会附带一些功能的增加。具体每版的迭代更新情况请查看更新日志。

## 注意事项
- 指定参数只能为正整数，若为其他输入可能出现未知错误
- 当因网络不当等理由导致 App 内程序未按既定轨道运行完成时，App 可能会出现预料以外的行为，但是绝大多数时候 App 只会直接退出。所以，如果发现点击按钮后 App 直接退出，这一般意味着输入异常、网络不畅等。

## 其他事项
该 APP 是由 `pyinstaller` 自动生成，理论上可以直接使用。如果不想或者不能使用 APP，也可尝试：

- 运行 `local.py`，这提供了一个可以直接运行的，支持查询类型为 1.1 和 3 的，查询深度在 `__main__` 中暴露的接口。运行的结果会直接出现在输出栏中。
- 运行 `app.py`，这理论上是运行 `NVR.exe` 时自动运行的代码，所以直接手动运行 `app.py` 理论上可以获得与直接运行 `exe` 相同的结果。